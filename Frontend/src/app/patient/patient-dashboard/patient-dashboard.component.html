<!-- dashboard.component.html -->
<h1>Welcome to Patient Dashboard</h1>

<div class="section">
  <h2>Available Doctors</h2>
  <ul>
    <li *ngFor="let doctor of doctorsList">{{ doctor.name }} - {{ doctor.specialty }}</li>
  </ul>
</div>

<div class="section">
  <h2>Make Appointment</h2>
  <select [(ngModel)]="selectedDoctor" required>
    <option value="" disabled>Select a doctor</option>
    <option *ngFor="let doctor of doctorsList" [value]="doctor.id">{{ doctor.name }} - {{ doctor.specialty }}</option>
  </select>
  <button (click)="makeAppointment()">Make Appointment</button>
</div>

<div class="section">
  <h2>My Reservations</h2>
  <ul>
    <li *ngFor="let reservation of myReservations">{{ reservation.slot.time }} - {{ reservation.doctor.name }}</li>
  </ul>
</div>

<div class="section">
  <h2>Cancel Appointment</h2>
  <select [(ngModel)]="selectedReservation" required>
    <option value="" disabled>Select a reservation to cancel</option>
    <option *ngFor="let reservation of myReservations" [value]="reservation.id">
      {{ reservation.slot.time }} - {{ reservation.doctor.name }}
    </option>
  </select>
  <button (click)="cancelAppointment(selectedReservation)">Cancel Appointment</button>
</div>

<div class="section">
  <h2>Update Slot</h2>
  <select [(ngModel)]="selectedReservationForSlotUpdate" required>
    <option value="" disabled>Select a reservation to update</option>
    <option *ngFor="let reservation of myReservations" [value]="reservation.id">
      {{ reservation.slot.time }} - {{ reservation.doctor.name }}
    </option>
  </select>
  <select [(ngModel)]="newSlotID" required>
    <option value="" disabled>Select a new slot</option>
    <option *ngFor="let slot of availableSlots" [value]="slot.id">{{ slot.time }}</option>
  </select>
  <button (click)="updateSlot()">Update Slot</button>
</div>

<div class="section">
  <h2>Update Doctor</h2>
  <select [(ngModel)]="selectedReservationForDoctorUpdate" required>
    <option value="" disabled>Select a reservation to update</option>
    <option *ngFor="let reservation of myReservations" [value]="reservation.id">
      {{ reservation.slot.time }} - {{ reservation.doctor.name }}
    </option>
  </select>
  <select [(ngModel)]="newDoctorID" required>
    <option value="" disabled>Select a new doctor</option>
    <option *ngFor="let doctor of doctorsList" [value]="doctor.id">{{ doctor.name }} - {{ doctor.specialty }}</option>
  </select>
  <button (click)="updateDoctor()">Update Doctor</button>
</div>
